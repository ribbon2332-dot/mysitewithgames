<!DOCTYPE html>
<html lang="ru" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GamePortal - Level Up Your English</title>
    <meta name="description" content="Learn and practice English with fun games.">
    
    <!-- Подключаем Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Настройка Tailwind -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        gray: {
                            900: '#0f1115',
                            800: '#1a1d24',
                            700: '#2a2e37',
                        }
                    },
                    animation: {
                        'float': 'float 25s linear infinite',
                    }
                },
            },
        }
    </script>

    <!-- Иконки Lucide -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Скрываем скроллбар */
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Модальное окно */
        dialog::backdrop {
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(4px);
        }
        dialog[open] {
            animation: zoomIn 0.2s ease-out;
        }
        @keyframes zoomIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        html {
            scroll-behavior: smooth;
        }

        /* --- АНИМИРОВАННЫЙ ФОН (NEON STYLE) --- */
        body {
            background: linear-gradient(to bottom right, #050510, #1a0b2e, #0f172a);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        .circles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: -1;
            margin: 0;
            padding: 0;
            pointer-events: none;
        }

        .circles li {
            position: absolute;
            display: block;
            list-style: none;
            width: 20px;
            height: 20px;
            /* Яркие неоновые цвета с прозрачностью */
            background: rgba(255, 255, 255, 0.1); 
            animation: animate 25s linear infinite;
            bottom: -150px;
            border-radius: 10%;
            /* Эффект свечения */
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        /* Разные цвета для кубиков */
        .circles li:nth-child(1) {
            left: 25%;
            width: 80px;
            height: 80px;
            background: rgba(236, 72, 153, 0.4); /* Neon Pink */
            box-shadow: 0 0 20px rgba(236, 72, 153, 0.6);
            animation-delay: 0s;
        }
        .circles li:nth-child(2) {
            left: 10%;
            width: 20px;
            height: 20px;
            background: rgba(59, 130, 246, 0.5); /* Blue */
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.6);
            animation-delay: 2s;
            animation-duration: 12s;
        }
        .circles li:nth-child(3) {
            left: 70%;
            width: 20px;
            height: 20px;
            background: rgba(168, 85, 247, 0.5); /* Purple */
            box-shadow: 0 0 15px rgba(168, 85, 247, 0.6);
            animation-delay: 4s;
        }
        .circles li:nth-child(4) {
            left: 40%;
            width: 60px;
            height: 60px;
            background: rgba(236, 72, 153, 0.3); /* Pink */
            animation-delay: 0s;
            animation-duration: 18s;
        }
        .circles li:nth-child(5) {
            left: 65%;
            width: 20px;
            height: 20px;
            background: rgba(59, 130, 246, 0.4); /* Blue */
            animation-delay: 0s;
        }
        .circles li:nth-child(6) {
            left: 75%;
            width: 110px;
            height: 110px;
            background: rgba(139, 92, 246, 0.35); /* Violet */
            box-shadow: 0 0 30px rgba(139, 92, 246, 0.5);
            animation-delay: 3s;
        }
        .circles li:nth-child(7) {
            left: 35%;
            width: 150px;
            height: 150px;
            background: rgba(236, 72, 153, 0.25); /* Pink */
            animation-delay: 7s;
        }
        .circles li:nth-child(8) {
            left: 50%;
            width: 25px;
            height: 25px;
            background: rgba(255, 255, 255, 0.4);
            animation-delay: 15s;
            animation-duration: 45s;
        }
        .circles li:nth-child(9) {
            left: 20%;
            width: 15px;
            height: 15px;
            background: rgba(59, 130, 246, 0.5);
            animation-delay: 2s;
            animation-duration: 35s;
        }
        .circles li:nth-child(10) {
            left: 85%;
            width: 150px;
            height: 150px;
            background: rgba(168, 85, 247, 0.3);
            animation-delay: 0s;
            animation-duration: 11s;
        }

        @keyframes animate {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
                border-radius: 10%;
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
                border-radius: 50%;
            }
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "lucide-react": "https://aistudiocdn.com/lucide-react@^0.555.0",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
</head>
<body class="text-white antialiased min-h-screen flex flex-col font-sans">

    <!-- Animated Background -->
    <ul class="circles">
        <li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li>
    </ul>

    <!-- Navbar -->
    <header class="sticky top-0 z-20 bg-[#0f1115]/80 backdrop-blur-md border-b border-white/10 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 md:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2 select-none">
                <i data-lucide="gamepad-2" class="w-8 h-8 text-purple-400 drop-shadow-[0_0_8px_rgba(168,85,247,0.5)]"></i>
                <h1 class="text-xl md:text-2xl font-black tracking-tighter">
                    GAME<span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500">PORTAL</span>
                </h1>
            </div>
            <nav class="hidden md:flex gap-6 text-sm font-medium text-gray-300">
                <a href="#" class="hover:text-white hover:drop-shadow-[0_0_5px_white] transition-all">Home</a>
                <a href="#" class="hover:text-white hover:drop-shadow-[0_0_5px_white] transition-all">Grammar</a>
                <a href="#" class="hover:text-white hover:drop-shadow-[0_0_5px_white] transition-all">Vocabulary</a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 max-w-[1600px] mx-auto w-full pb-20 pt-6 px-4 md:px-8 relative z-10">
        
        <!-- Hero Banner -->
        <div class="mb-10 animate-[zoomIn_0.5s_ease-out]">
            <div class="relative rounded-2xl bg-gradient-to-r from-purple-900/80 to-indigo-900/80 border border-white/10 p-8 md:p-12 overflow-hidden shadow-2xl backdrop-blur-sm">
                <div class="absolute top-0 right-0 w-64 h-64 bg-pink-500 opacity-20 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2 pointer-events-none"></div>
                <div class="relative z-10 max-w-3xl">
                    <h2 class="text-4xl md:text-6xl font-black mb-4 text-white drop-shadow-[0_2px_10px_rgba(0,0,0,0.5)]">
                        Level Up Your <span class="text-transparent bg-clip-text bg-gradient-to-r from-pink-400 to-purple-400">English!</span>
                    </h2>
                    <p class="text-xl text-purple-100 mb-6 font-medium leading-relaxed drop-shadow-md">
                        Welcome to my game portal! Learn and practice English with fun and pleasure.
                    </p>
                </div>
            </div>
        </div>

        <!-- Container for Game Categories -->
        <div id="game-sections" class="space-y-8">
            <!-- JavaScript вставит сюда карусели -->
        </div>

    </main>

    <!-- Footer -->
    <footer class="border-t border-white/5 py-12 text-center text-gray-400 text-sm bg-black/20 backdrop-blur-md">
        <p>&copy; 2024 English Game Portal.</p>
    </footer>

    <!-- Modal Dialog -->
    <dialog id="gameModal" class="bg-transparent p-0 w-full h-full max-w-full max-h-full m-0 text-white overflow-hidden">
        <div class="w-full h-full flex flex-col bg-[#0f1115]">
            <!-- Modal Header -->
            <div class="flex items-center justify-between p-4 bg-gray-800 border-b border-gray-700">
                <div class="flex items-center gap-3">
                    <div class="bg-purple-600 p-2 rounded-lg shadow-[0_0_10px_rgba(147,51,234,0.5)]">
                        <i data-lucide="maximize-2" class="w-5 h-5 text-white"></i>
                    </div>
                    <div>
                        <h2 id="modalTitle" class="font-bold text-lg leading-tight">Название игры</h2>
                        <span class="text-xs text-gray-400 hidden sm:inline">Press ESC to exit</span>
                    </div>
                </div>
                <button onclick="closeModal()" class="p-2 hover:bg-red-500/20 hover:text-red-400 rounded-full transition-colors group" aria-label="Close">
                    <i data-lucide="x" class="w-6 h-6 group-hover:scale-110 transition-transform"></i>
                </button>
            </div>

            <!-- Iframe Container -->
            <div class="flex-1 bg-black relative flex items-center justify-center overflow-hidden">
                <iframe id="gameIframe" src="" class="w-full h-full border-0" allowfullscreen allow="autoplay; gamepad; fullscreen; accelerometer; gyroscope"></iframe>
                
                <!-- Fallback message -->
                <div id="noUrlMessage" class="hidden text-center p-8 max-w-md absolute inset-0 flex flex-col items-center justify-center bg-gray-900 z-10">
                    <i data-lucide="alert-circle" class="w-12 h-12 text-yellow-500 mb-4 mx-auto"></i>
                    <h3 class="text-xl font-bold mb-2">No URL Found</h3>
                    <p class="text-gray-400">This game has no link configured in the code.</p>
                </div>
            </div>

            <!-- Modal Footer -->
            <div class="bg-gray-800 p-3 hidden md:flex gap-4 text-sm text-gray-400 border-t border-gray-700">
                <span>Category: <span id="modalCategory" class="text-white font-medium">Unknown</span></span>
                <span class="text-gray-600">|</span>
                <span>Tags: <span id="modalTags" class="text-white">...</span></span>
            </div>
        </div>
    </dialog>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // ==================================================================================
        // ВАШ СПИСОК ИГР
        // ==================================================================================
        
        const ALL_GAMES = [
            // --- ВАШИ ИГРЫ ---
            {
                id: 'memory-game',
                title: 'Animal Match',
                thumbnail: './images/1.png', 
                url: 'animalmatch.html',    
                tags: ['animals', 'have/has got', 'A1'],
                category: 'My Games',
                description: 'Найди пары животных.'
            },
            {
                id: 'escape-maze',
                title: 'Escape the Maze',
                thumbnail: './images/2.png',
                url: 'Escape%20the%20maze.html', // Пробелы заменены на %20
                tags: ['Irregular Verbs', 'A2'],
                category: 'My Games',
                description: 'Пройди лабиринт.'
            },
            {
                id: 'grammar-fashion',
                title: 'Grammar Fashion Show',
                thumbnail: './images/3.png',
                // ВНИМАНИЕ: Здесь добавлен пробел перед точкой (%20.html), как на вашем скриншоте
                url: 'grammar%20fashion%20show%20.html', 
                tags: ['Clothes', 'A2', 'have/has got'],
                category: 'My Games',
                description: 'Собери одежду.'
            },
            {
                id: 'tic-tac-toe',
                title: 'Tic-Tac-Toe',
                thumbnail: './images/4.png',
                url: 'tic-tac-toe.html',
                tags: ['Basic grammar', 'A1'],
                category: 'Grammar Quizzes',
                description: 'Крестики-нолики.'
            },
            {
                id: 'traffic-safety',
                title: 'Traffic Safety',
                thumbnail: './images/5.png',
                // Предполагаем название файла с пробелами
                url: 'tictactoe%20final%20version.html',
                tags: ['Traffic Safety', 'Spotlight 6'],
                category: 'Vocabulary Quizzes',
                description: 'Безопасность на дороге.'
            },
            
            // --- ПРИМЕРЫ (Можно удалить или редактировать) ---
            {
                id: 'forest-quest',
                title: 'Forest Quest',
                thumbnail: 'https://picsum.photos/400/300?random=3',
                url: '',
                tags: ['Adventure', 'Nature'],
                category: 'Mixed Games',
                description: 'Приключение в лесу.'
            },
            {
                id: 'demo-4',
                title: 'Cyber Net',
                thumbnail: 'https://picsum.photos/400/300?random=4',
                url: '',
                tags: ['Hacking', 'Sim'],
                category: 'Vocabulary Quizzes',
                description: 'Симулятор хакера.'
            }
        ];

        // --- ЛОГИКА ---

        const sectionsContainer = document.getElementById('game-sections');
        const dialog = document.getElementById('gameModal');
        const iframe = document.getElementById('gameIframe');
        const noUrlMsg = document.getElementById('noUrlMessage');

        document.addEventListener('DOMContentLoaded', () => {
            renderApp();
            lucide.createIcons();
        });

        function renderApp() {
            // Собираем уникальные категории
            const categories = [];
            const seen = new Set();
            
            ALL_GAMES.forEach(g => {
                if (!seen.has(g.category)) {
                    seen.add(g.category);
                    categories.push(g.category);
                }
            });
            
            categories.forEach(category => {
                const games = ALL_GAMES.filter(g => g.category === category);
                if (games.length > 0) {
                    sectionsContainer.appendChild(createCarousel(category, games));
                }
            });
        }

        function createCarousel(title, games) {
            const section = document.createElement('section');
            section.className = 'py-4';
            
            const header = document.createElement('div');
            header.className = 'flex items-center justify-between mb-4';
            header.innerHTML = `
                <h2 class="text-2xl font-bold text-white tracking-tight drop-shadow-md border-l-4 border-purple-500 pl-3">${title}</h2>
                <div class="flex gap-2">
                    <button class="nav-prev p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors">
                        <i data-lucide="chevron-left" class="w-5 h-5"></i>
                    </button>
                    <button class="nav-next p-2 rounded-full bg-white/10 hover:bg-white/20 text-white transition-colors">
                        <i data-lucide="chevron-right" class="w-5 h-5"></i>
                    </button>
                </div>
            `;
            
            const scrollContainer = document.createElement('div');
            scrollContainer.className = 'flex gap-5 overflow-x-auto pb-6 snap-x snap-mandatory scrollbar-hide px-1';
            
            games.forEach(game => {
                scrollContainer.appendChild(createGameCard(game));
            });

            // Spacer
            const spacer = document.createElement('div');
            spacer.className = 'w-1 flex-none';
            scrollContainer.appendChild(spacer);

            // Nav
            const btnPrev = header.querySelector('.nav-prev');
            const btnNext = header.querySelector('.nav-next');
            
            btnPrev.addEventListener('click', () => scrollContainer.scrollBy({ left: -340, behavior: 'smooth' }));
            btnNext.addEventListener('click', () => scrollContainer.scrollBy({ left: 340, behavior: 'smooth' }));

            section.appendChild(header);
            section.appendChild(scrollContainer);
            return section;
        }

        function createGameCard(game) {
            const card = document.createElement('div');
            card.className = `
                group relative flex-none w-72 md:w-80 snap-start cursor-pointer rounded-xl bg-[#1e1b2e] border border-white/5
                overflow-hidden transition-all duration-300 hover:scale-105 hover:-translate-y-1 hover:shadow-[0_10px_30px_rgba(168,85,247,0.3)]
                focus:outline-none focus:ring-2 focus:ring-purple-400
            `;
            card.tabIndex = 0;
            
            card.innerHTML = `
                <div class="relative aspect-video w-full overflow-hidden">
                    <img src="${game.thumbnail}" alt="" class="h-full w-full object-cover transition-transform duration-500 group-hover:scale-110">
                    <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center">
                        <div class="bg-white/10 backdrop-blur-sm p-3 rounded-full border border-white/20 shadow-[0_0_15px_rgba(255,255,255,0.3)]">
                            <i data-lucide="play" class="w-8 h-8 text-white fill-white"></i>
                        </div>
                    </div>
                </div>
                <div class="p-4 relative">
                    <div class="absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-transparent via-purple-500/50 to-transparent"></div>
                    <h3 class="text-lg font-bold text-white truncate">${game.title}</h3>
                    <div class="mt-2 flex flex-wrap gap-2">
                        ${game.tags.slice(0, 3).map(tag => `
                            <span class="text-xs px-2 py-1 rounded-md bg-purple-500/10 text-purple-200 border border-purple-500/20 font-medium">
                                ${tag}
                            </span>
                        `).join('')}
                    </div>
                </div>
            `;

            const openHandler = () => openModal(game);
            card.addEventListener('click', openHandler);
            card.addEventListener('keydown', (e) => { if (e.key === 'Enter') openHandler(); });

            return card;
        }

        function openModal(game) {
            document.getElementById('modalTitle').textContent = game.title;
            document.getElementById('modalCategory').textContent = game.category;
            document.getElementById('modalTags').textContent = game.tags.join(', ');

            if (game.url && game.url.trim() !== '') {
                iframe.src = game.url;
                iframe.classList.remove('hidden');
                noUrlMsg.classList.add('hidden');
            } else {
                iframe.src = '';
                iframe.classList.add('hidden');
                noUrlMsg.classList.remove('hidden');
            }

            dialog.showModal();
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function closeModal() {
            dialog.close();
            setTimeout(() => { iframe.src = ''; }, 200); 
            document.body.style.overflow = '';
        }

        dialog.addEventListener('click', (e) => {
            if (e.target === dialog) closeModal();
        });
        dialog.addEventListener('close', () => {
             document.body.style.overflow = '';
             iframe.src = '';
        });

    </script>
</body>
</html>